@import "tailwindcss";

/* ===== FONT FACES ===== */
@font-face {
  font-family: 'Shimshon';
  src: url('/fonts/shimshon/Shimshon-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Shimshon';
  src: url('/fonts/shimshon/Shimshon-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Shimshon';
  src: url('/fonts/shimshon/Shimshon-Thin.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Shimshon';
  src: url('/fonts/shimshon/Shimshon-Italic.ttf') format('truetype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

/* ===== CUSTOM THEME ===== */
@theme {
  /* Primary Colors - צבעים ראשיים */
  --color-tetris-purple: #7D53FA;
  --color-tetris-green: #36EF79;
  --color-tetris-orange: #FD982E;

  /* Secondary Colors - צבעים משניים */
  --color-tetris-pink: #F9A8D4;
  --color-tetris-yellow: #FDE047;
  --color-tetris-blue: #93C5FD;
  --color-tetris-cyan: #67E8F9;

  /* Neutrals - ניטרלים */
  --color-off-black: #1F1F1F;
  --color-dark-gray: #404040;
  --color-mid-gray: #636363;
  --color-off-white: #FAFAF9;
  --color-light-gray: #F5F5F4;
  --color-btn-gray: #EEEEEE;

  /* Font Families */
  --font-shimshon: 'Shimshon', sans-serif;
  --font-ibm: 'IBM Plex Sans Hebrew', sans-serif;
  --font-pixelify: 'Jersey 20', sans-serif;
  --font-rubik: 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  /* Shadows - צללים ברוטליסטיים */
  --shadow-brutalist: 6px 6px 0px #1F1F1F;
  --shadow-brutalist-sm: 3px 3px 0px #1F1F1F;
  --shadow-brutalist-xs: 2px 2px 0px #1F1F1F;
  --shadow-brutalist-nav: 4px 4px 0px #000000;
  --shadow-brutalist-hamburger: 3.4px 3.4px 0px #000000;

  /* Animation Timings */
  --timing-micro: 0.1s;
  --timing-fast: 0.2s;
  --timing-normal: 0.3s;
  --timing-slow: 0.5s;
  --timing-loading: 2s;

  /* Easing */
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --ease-smooth: cubic-bezier(0.4, 0.0, 0.2, 1);
  --ease-sharp: cubic-bezier(0.4, 0.0, 1, 1);
}

/* ===== BASE STYLES ===== */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    direction: rtl;
    scroll-behavior: smooth;
  }

  body {
    font-family: var(--font-shimshon);
    background-color: var(--color-off-white);
    color: var(--color-off-black);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Headings, nav, buttons use Shimshon */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-shimshon);
    line-height: 1.3;
    font-weight: 700;
  }

  /* Body text / descriptions use IBM Plex Sans Hebrew */
  p,
  .font-body {
    font-family: var(--font-ibm);
    line-height: 1.6;
  }

  /* Focus states - always visible */
  :focus-visible {
    outline: 3px solid var(--color-tetris-yellow);
    outline-offset: 3px;
  }

  /* Selection color */
  ::selection {
    background-color: var(--color-tetris-purple);
    color: var(--color-off-white);
  }
}

/* ===== UTILITY CLASSES ===== */
@layer utilities {

  /* Display font (Jersey 20) for English labels/tags in toolbox */
  .font-pixelify {
    font-family: var(--font-pixelify);
  }

  /* Border width 3px for neo-brutalist */
  .border-3 {
    border-width: 3px;
  }

  .border-t-3 {
    border-top-width: 3px;
  }

  .border-b-3 {
    border-bottom-width: 3px;
  }

  .border-l-3 {
    border-left-width: 3px;
  }

  .border-r-3 {
    border-right-width: 3px;
  }
}

/* ===== CUSTOM ANIMATIONS ===== */
@keyframes tetris-fall {
  0% {
    transform: translateY(-100%) rotate(0deg);
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  90% {
    opacity: 1;
  }

  100% {
    transform: translateY(calc(100vh + 100%)) rotate(90deg);
    opacity: 0;
  }
}

@keyframes tetris-stack {
  0% {
    transform: translateY(-20px);
    opacity: 0;
  }

  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes line-clear {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
    background-color: var(--color-tetris-yellow);
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse-shadow {

  0%,
  100% {
    box-shadow: 6px 6px 0px var(--color-off-black);
  }

  50% {
    box-shadow: 8px 8px 0px var(--color-off-black);
  }
}

@keyframes float-slow {

  0%,
  100% {
    transform: translateY(0px) rotate(var(--rotate-start, 0deg));
  }

  50% {
    transform: translateY(-16px) rotate(var(--rotate-end, 5deg));
  }
}

@keyframes float-drift {

  0%,
  100% {
    transform: translate(0px, 0px) rotate(var(--rotate-start, 0deg));
  }

  33% {
    transform: translate(6px, -12px) rotate(var(--rotate-mid, 3deg));
  }

  66% {
    transform: translate(-4px, -8px) rotate(var(--rotate-end, -2deg));
  }
}

@keyframes spin-slow {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* Animation utility classes */
.animate-tetris-fall {
  animation: tetris-fall var(--timing-loading) linear infinite;
}

.animate-tetris-stack {
  animation: tetris-stack var(--timing-normal) var(--ease-smooth) forwards;
}

.animate-line-clear {
  animation: line-clear 1.5s ease-in-out infinite;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-float-slow {
  animation: float-slow 5s ease-in-out infinite;
}

.animate-float-drift {
  animation: float-drift 7s ease-in-out infinite;
}

.animate-spin-slow {
  animation: spin-slow 20s linear infinite;
}

.animate-pulse-shadow {
  animation: pulse-shadow 2s ease-in-out infinite;
}

/* Search result target highlight (temporary card focus stroke) */
.search-focus-target {
  outline: 4px solid var(--color-tetris-purple);
  outline-offset: 4px;
  animation: search-target-stroke 1.1s ease-in-out 2;
}

@keyframes search-target-stroke {
  0%,
  100% {
    outline-color: var(--color-tetris-purple);
  }

  50% {
    outline-color: var(--color-tetris-yellow);
  }
}

/* ===== TETRIS LOADER LAYOUT ===== */
.tetris-loader-grid {
  position: relative;
  width: calc(10 * 15px);
  height: calc(12 * 15px);
}

.tetris-loader-grid .piece {
  position: absolute;
  top: 0;
  left: 0;
}

.tetris-loader-base {
  width: calc(10 * 15px);
  height: 10px;
  background-color: var(--color-dark-gray);
  margin-bottom: calc(8 * 15px);
}

/* ===== REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ===== SCROLLBAR STYLING ===== */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-light-gray);
}

::-webkit-scrollbar-thumb {
  background: var(--color-tetris-purple);
  border: 2px solid var(--color-off-black);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-tetris-orange);
}

/* ===== RANGE SLIDER (Hall of Fame decade slider) ===== */
/* The input itself is pointer-events:none; only the thumb receives events.
   This lets two overlapping range inputs both be draggable. */
.slider-thumb-interactive::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  background: var(--color-tetris-purple);
  border: 2px solid var(--color-off-black);
  box-shadow: 2px 2px 0px var(--color-off-black);
  cursor: pointer;
  pointer-events: auto;
  position: relative;
  z-index: 10;
}

.slider-thumb-interactive::-moz-range-thumb {
  width: 20px;
  height: 20px;
  background: var(--color-tetris-purple);
  border: 2px solid var(--color-off-black);
  box-shadow: 2px 2px 0px var(--color-off-black);
  border-radius: 0;
  cursor: pointer;
  pointer-events: auto;
}

.slider-thumb-interactive::-webkit-slider-thumb:hover {
  background: var(--color-tetris-orange);
}

.slider-thumb-interactive::-moz-range-thumb:hover {
  background: var(--color-tetris-orange);
}